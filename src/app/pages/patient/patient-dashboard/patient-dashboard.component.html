<section class="w-full flex flex-col items-start justify-start">
  <div class="w-full flex flex-row gap-3">
    <patient-dashboard-info />
    <div class="flex flex-col w-full justify-start items-start">
      <div class="flex flex-row justify-between w-full pt-0 pb-3">
        <tab-router [routes]="routes" class="w-full" />
        <div class="w-full flex flex-row gap-2 items-center justify-end">
          <p class="m-0 font-sans text-[12px] not-italic font-normal leading-5 text-[#666]">Time Spent</p>
          <span
            class="text-medium bg-[#F2F4F7] text-[#344054] text-[12px] not-italic font-medium leading-[18px] py-1 px-2 rounded-full"
            >RPM: 0 mins</span
          >
          <span
            class="text-medium bg-[#F2F4F7] text-[#344054] text-[12px] not-italic font-medium leading-[18px] py-1 px-2 rounded-full"
            >CCM: 0 mins</span
          >
          <div class="bg-[#FADDDB] h-12 text-xl rounded-2xl flex justify-center items-center">
            <span class="text-[#B42318] font-bold px-[20px] py-[8px]">{{ timerDisplay }}</span>
          </div>

          <button
            *ngIf="!isRunning && !hasStarted"
            (click)="startTimer()"
            class="border-[#FDA29B] border-1 px-[16px] py-[10px] flex justify-center items-center rounded-lg"
          >
            <span class="text-[#B42318]">Start</span>
          </button>

          <button
            *ngIf="isRunning"
            (click)="pauseTimer()"
            class="border-[#FDA29B] border-1 px-[16px] py-[10px] flex justify-center items-center rounded-lg"
          >
            <span class="text-[#B42318]">Pause</span>
          </button>

          <button
            *ngIf="isRunning"
            (click)="stopTimer()"
            class="border-[#FDA29B] border-1 px-[16px] py-[10px] flex justify-center items-center rounded-lg"
          >
            <span class="text-[#B42318]">Stop</span>
          </button>

          <button
            *ngIf="!isRunning && hasStarted"
            (click)="resumeTimer()"
            class="border-[#FDA29B] border-1 px-[16px] py-[10px] flex justify-center items-center rounded-lg"
          >
            <span class="text-[#B42318]">Resume</span>
          </button>
        </div>
      </div>

      <div class="w-full">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>

  <p-dialog header="Select Care Type" [(visible)]="displayModal" modal="true" width="300" [closable]="false">
    <div class="flex mb-4">Please choose the care management type for this patient</div>
    <div class="flex justify-content-start gap-2">
      <button
        pButton
        pRipple
        label="RPM"
        (click)="selectMode('rpm')"
        class="border-none text-[#6366F1] bg-[#DCEFFF] text-sm"
      ></button>
      <button
        pButton
        pRipple
        label="CCM"
        (click)="selectMode('ccm')"
        class="border-none text-[#6366F1] bg-[#DCEFFF] text-sm"
      ></button>
    </div>
  </p-dialog>

  <p-dialog header="Add Notes" [(visible)]="logTimeModal" modal="true" width="300">
    <p>Would you like to log the time spent?</p>
    <div class="flex justify-content-center gap-2">
      <button (click)="handleLogTimeChoice(true)" class="p-button border-none text-[#6366F1] bg-[#DCEFFF] text-sm">
        Log Time
      </button>
      <button (click)="handleLogTimeChoice(false)" class="p-button border-none text-red-400 bg-[#DCEFFF] text-sm">
        Don't Log Time
      </button>
    </div>
  </p-dialog>
</section>
